# üìò –ü–æ–¥—Ä–æ–±–Ω–∞—è –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏—è –ø–æ –Ω–∞—Å—Ç—Ä–æ–π–∫–µ Supabase

## –®–∞–≥ 1: –°–æ–∑–¥–∞–Ω–∏–µ –ø—Ä–æ–µ–∫—Ç–∞

1. –ü–µ—Ä–µ–π–¥–∏—Ç–µ –Ω–∞ [supabase.com](https://supabase.com)
2. –ù–∞–∂–º–∏—Ç–µ "Start your project"
3. –í–æ–π–¥–∏—Ç–µ —á–µ—Ä–µ–∑ GitHub
4. –ù–∞–∂–º–∏—Ç–µ "New Project"
5. –ó–∞–ø–æ–ª–Ω–∏—Ç–µ –¥–∞–Ω–Ω—ã–µ:
   - **Name**: juice-app (–∏–ª–∏ –ª—é–±–æ–µ –Ω–∞–∑–≤–∞–Ω–∏–µ)
   - **Database Password**: –ü—Ä–∏–¥—É–º–∞–π—Ç–µ –Ω–∞–¥–µ–∂–Ω—ã–π –ø–∞—Ä–æ–ª—å (—Å–æ—Ö—Ä–∞–Ω–∏—Ç–µ –µ–≥–æ!)
   - **Region**: –í—ã–±–µ—Ä–∏—Ç–µ –±–ª–∏–∂–∞–π—à–∏–π —Ä–µ–≥–∏–æ–Ω (–Ω–∞–ø—Ä–∏–º–µ—Ä, Asia Pacific - Mumbai)
   - **Pricing Plan**: Free (–±–µ—Å–ø–ª–∞—Ç–Ω—ã–π —Ç–∞—Ä–∏—Ñ)
6. –ù–∞–∂–º–∏—Ç–µ "Create new project"
7. –ü–æ–¥–æ–∂–¥–∏—Ç–µ 2-3 –º–∏–Ω—É—Ç—ã –ø–æ–∫–∞ –ø—Ä–æ–µ–∫—Ç —Å–æ–∑–¥–∞–µ—Ç—Å—è

## –®–∞–≥ 2: –í—ã–ø–æ–ª–Ω–µ–Ω–∏–µ SQL —Å—Ö–µ–º—ã

1. –í –ª–µ–≤–æ–º –º–µ–Ω—é –Ω–∞–∂–º–∏—Ç–µ –Ω–∞ **"SQL Editor"**
2. –ù–∞–∂–º–∏—Ç–µ **"New query"**
3. –û—Ç–∫—Ä–æ–π—Ç–µ —Ñ–∞–π–ª `supabase-schema.sql` –∏–∑ –ø—Ä–æ–µ–∫—Ç–∞
4. –°–∫–æ–ø–∏—Ä—É–π—Ç–µ –≤–µ—Å—å SQL –∫–æ–¥
5. –í—Å—Ç–∞–≤—å—Ç–µ –≤ —Ä–µ–¥–∞–∫—Ç–æ—Ä Supabase
6. –ù–∞–∂–º–∏—Ç–µ **"Run"** (–∏–ª–∏ Ctrl/Cmd + Enter)
7. –í—ã –¥–æ–ª–∂–Ω—ã —É–≤–∏–¥–µ—Ç—å —Å–æ–æ–±—â–µ–Ω–∏–µ "Success. No rows returned"

**–ß—Ç–æ –ø—Ä–æ–∏–∑–æ—à–ª–æ:**
- –°–æ–∑–¥–∞–Ω—ã –≤—Å–µ —Ç–∞–±–ª–∏—Ü—ã (categories, juices, users, orders –∏ —Ç.–¥.)
- –î–æ–±–∞–≤–ª–µ–Ω—ã –∏–Ω–¥–µ–∫—Å—ã –¥–ª—è –±—ã—Å—Ç—Ä—ã—Ö –∑–∞–ø—Ä–æ—Å–æ–≤
- –ù–∞—Å—Ç—Ä–æ–µ–Ω—ã —Ç—Ä–∏–≥–≥–µ—Ä—ã –¥–ª—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏—Ö –æ–±–Ω–æ–≤–ª–µ–Ω–∏–π
- –î–æ–±–∞–≤–ª–µ–Ω—ã —Ç–µ—Å—Ç–æ–≤—ã–µ –¥–∞–Ω–Ω—ã–µ (–∫–∞—Ç–µ–≥–æ—Ä–∏–∏ –∏ –Ω–µ—Å–∫–æ–ª—å–∫–æ —Å–æ–∫–æ–≤)
- –ù–∞—Å—Ç—Ä–æ–µ–Ω–∞ Row Level Security –¥–ª—è –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç–∏

## –®–∞–≥ 3: –ü—Ä–æ–≤–µ—Ä–∫–∞ –¥–∞–Ω–Ω—ã—Ö

1. –í –ª–µ–≤–æ–º –º–µ–Ω—é –Ω–∞–∂–º–∏—Ç–µ **"Table Editor"**
2. –í—ã–±–µ—Ä–∏—Ç–µ —Ç–∞–±–ª–∏—Ü—É **"categories"**
3. –í—ã –¥–æ–ª–∂–Ω—ã —É–≤–∏–¥–µ—Ç—å 4 –∫–∞—Ç–µ–≥–æ—Ä–∏–∏:
   - –¶–∏—Ç—Ä—É—Å–æ–≤—ã–µ
   - –Ø–≥–æ–¥–Ω—ã–µ
   - –û–≤–æ—â–Ω—ã–µ
   - –ú–∏–∫—Å—ã
4. –ü–µ—Ä–µ–π–¥–∏—Ç–µ –≤ —Ç–∞–±–ª–∏—Ü—É **"juices"**
5. –í—ã –¥–æ–ª–∂–Ω—ã —É–≤–∏–¥–µ—Ç—å 5 —Ç–µ—Å—Ç–æ–≤—ã—Ö —Å–æ–∫–æ–≤

## –®–∞–≥ 4: –ü–æ–ª—É—á–µ–Ω–∏–µ API –∫–ª—é—á–µ–π

1. –í –ª–µ–≤–æ–º –º–µ–Ω—é –Ω–∞–∂–º–∏—Ç–µ –Ω–∞ **"Settings"** (–≤–Ω–∏–∑—É)
2. –í—ã–±–µ—Ä–∏—Ç–µ **"API"**
3. –ù–∞–π–¥–∏—Ç–µ —Å–µ–∫—Ü–∏—é **"Project API keys"**
4. –°–∫–æ–ø–∏—Ä—É–π—Ç–µ:
   - **Project URL**: –≠—Ç–æ –≤–∞—à `VITE_SUPABASE_URL`
   - **anon public**: –≠—Ç–æ –≤–∞—à `VITE_SUPABASE_ANON_KEY`
5. –í—Å—Ç–∞–≤—å—Ç–µ —ç—Ç–∏ –∑–Ω–∞—á–µ–Ω–∏—è –≤ —Ñ–∞–π–ª `.env`:

```env
VITE_SUPABASE_URL=https://xxxxxxxxxxxxx.supabase.co
VITE_SUPABASE_ANON_KEY=eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9...
```

## –®–∞–≥ 5: –ù–∞—Å—Ç—Ä–æ–π–∫–∞ Storage (–¥–ª—è –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–π)

1. –í –ª–µ–≤–æ–º –º–µ–Ω—é –Ω–∞–∂–º–∏—Ç–µ **"Storage"**
2. –ù–∞–∂–º–∏—Ç–µ **"Create a new bucket"**
3. –í–≤–µ–¥–∏—Ç–µ –Ω–∞–∑–≤–∞–Ω–∏–µ: **"juice-images"**
4. –í—ã–±–µ—Ä–∏—Ç–µ **"Public bucket"** ‚úÖ
5. –ù–∞–∂–º–∏—Ç–µ **"Create bucket"**

**–ù–∞—Å—Ç—Ä–æ–π–∫–∞ –ø–æ–ª–∏—Ç–∏–∫ –∑–∞–≥—Ä—É–∑–∫–∏:**

1. –ù–∞–∂–º–∏—Ç–µ –Ω–∞ —Å–æ–∑–¥–∞–Ω–Ω—ã–π bucket
2. –ü–µ—Ä–µ–π–¥–∏—Ç–µ –≤ **"Policies"**
3. –ù–∞–∂–º–∏—Ç–µ **"New Policy"**
4. –í—ã–±–µ—Ä–∏—Ç–µ **"For full customization"**
5. –°–æ–∑–¥–∞–π—Ç–µ –ø–æ–ª–∏—Ç–∏–∫—É –¥–ª—è —á—Ç–µ–Ω–∏—è:
   ```sql
   CREATE POLICY "Public Access"
   ON storage.objects FOR SELECT
   USING (bucket_id = 'juice-images');
   ```
6. –°–æ–∑–¥–∞–π—Ç–µ –ø–æ–ª–∏—Ç–∏–∫—É –¥–ª—è –∑–∞–≥—Ä—É–∑–∫–∏ (—Ç–æ–ª—å–∫–æ –¥–ª—è –∞–¥–º–∏–Ω–æ–≤):
   ```sql
   CREATE POLICY "Admins can upload"
   ON storage.objects FOR INSERT
   WITH CHECK (
     bucket_id = 'juice-images' 
     AND auth.role() = 'authenticated'
   );
   ```

## –®–∞–≥ 6: –î–æ–±–∞–≤–ª–µ–Ω–∏–µ —Å–µ–±—è –∫–∞–∫ –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä–∞

–ü–æ—Å–ª–µ —Ç–æ–≥–æ, –∫–∞–∫ –≤—ã –≤–ø–µ—Ä–≤—ã–µ –æ—Ç–∫—Ä–æ–µ—Ç–µ Mini App –≤ Telegram:

1. –í–µ—Ä–Ω–∏—Ç–µ—Å—å –≤ Supabase
2. –ü–µ—Ä–µ–π–¥–∏—Ç–µ –≤ **"Table Editor"** ‚Üí **"users"**
3. –ù–∞–π–¥–∏—Ç–µ —Å–≤–æ—é –∑–∞–ø–∏—Å—å (–ø–æ telegram_id)
4. –ò–∑–º–µ–Ω–∏—Ç–µ –ø–æ–ª–µ **"is_admin"** –Ω–∞ **true** ‚úÖ
5. –°–æ—Ö—Ä–∞–Ω–∏—Ç–µ

–¢–µ–ø–µ—Ä—å —É –≤–∞—Å –±—É–¥–µ—Ç –¥–æ—Å—Ç—É–ø –∫ –∞–¥–º–∏–Ω-–ø–∞–Ω–µ–ª–∏!

## –®–∞–≥ 7: –ù–∞—Å—Ç—Ä–æ–π–∫–∞ Realtime (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ)

–î–ª—è –ø–æ–ª—É—á–µ–Ω–∏—è —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–π –æ –Ω–æ–≤—ã—Ö –∑–∞–∫–∞–∑–∞—Ö –≤ —Ä–µ–∞–ª—å–Ω–æ–º –≤—Ä–µ–º–µ–Ω–∏:

1. –ü–µ—Ä–µ–π–¥–∏—Ç–µ –≤ **"Database"** ‚Üí **"Replication"**
2. –ù–∞–π–¥–∏—Ç–µ —Ç–∞–±–ª–∏—Ü—É **"orders"**
3. –í–∫–ª—é—á–∏—Ç–µ —Ä–µ–ø–ª–∏–∫–∞—Ü–∏—é –¥–ª—è —ç—Ç–æ–π —Ç–∞–±–ª–∏—Ü—ã

## –ü—Ä–æ–≤–µ—Ä–∫–∞ –ø—Ä–∞–≤–∏–ª—å–Ω–æ—Å—Ç–∏ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏

–í—ã–ø–æ–ª–Ω–∏—Ç–µ —ç—Ç–æ—Ç SQL –∑–∞–ø—Ä–æ—Å –≤ SQL Editor:

```sql
-- –ü—Ä–æ–≤–µ—Ä–∫–∞ —Å—Ç—Ä—É–∫—Ç—É—Ä—ã
SELECT 
  table_name,
  COUNT(*) as column_count
FROM information_schema.columns 
WHERE table_schema = 'public'
GROUP BY table_name
ORDER BY table_name;

-- –ü—Ä–æ–≤–µ—Ä–∫–∞ –¥–∞–Ω–Ω—ã—Ö
SELECT 
  (SELECT COUNT(*) FROM categories) as categories_count,
  (SELECT COUNT(*) FROM juices) as juices_count,
  (SELECT COUNT(*) FROM users) as users_count;
```

–í—ã –¥–æ–ª–∂–Ω—ã —É–≤–∏–¥–µ—Ç—å:
- categories_count: 4
- juices_count: 5
- users_count: 0 (–ø–æ–∫–∞ –Ω–∏–∫—Ç–æ –Ω–µ –æ—Ç–∫—Ä—ã–ª –±–æ—Ç–∞)

## –¢–∏–ø–∏—á–Ω—ã–µ –æ—à–∏–±–∫–∏ –∏ —Ä–µ—à–µ–Ω–∏—è

### ‚ùå "relation does not exist"
**–†–µ—à–µ–Ω–∏–µ**: SQL —Å–∫—Ä–∏–ø—Ç –Ω–µ –≤—ã–ø–æ–ª–Ω–∏–ª—Å—è –ø–æ–ª–Ω–æ—Å—Ç—å—é. –í—ã–ø–æ–ª–Ω–∏—Ç–µ –µ–≥–æ –∑–∞–Ω–æ–≤–æ.

### ‚ùå "permission denied"
**–†–µ—à–µ–Ω–∏–µ**: –ü—Ä–æ–≤–µ—Ä—å—Ç–µ RLS –ø–æ–ª–∏—Ç–∏–∫–∏. –í–æ–∑–º–æ–∂–Ω–æ, –æ–Ω–∏ –Ω–∞—Å—Ç—Ä–æ–µ–Ω—ã –Ω–µ–ø—Ä–∞–≤–∏–ª—å–Ω–æ.

### ‚ùå "invalid API key"
**–†–µ—à–µ–Ω–∏–µ**: –ü—Ä–æ–≤–µ—Ä—å—Ç–µ, —á—Ç–æ –≤—ã —Å–∫–æ–ø–∏—Ä–æ–≤–∞–ª–∏ –ø—Ä–∞–≤–∏–ª—å–Ω—ã–π –∫–ª—é—á (anon public).

### ‚ùå "CORS error"
**–†–µ—à–µ–Ω–∏–µ**: –£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ –≤–∞—à –¥–æ–º–µ–Ω –¥–æ–±–∞–≤–ª–µ–Ω –≤ —Å–ø–∏—Å–æ–∫ —Ä–∞–∑—Ä–µ—à–µ–Ω–Ω—ã—Ö URL –≤ –Ω–∞—Å—Ç—Ä–æ–π–∫–∞—Ö Supabase:
1. Settings ‚Üí API ‚Üí URL Configuration
2. –î–æ–±–∞–≤—å—Ç–µ –≤–∞—à –¥–æ–º–µ–Ω

## –ü–æ–ª–µ–∑–Ω—ã–µ SQL –∑–∞–ø—Ä–æ—Å—ã –¥–ª—è –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω–∏—è

### –ü—Ä–æ—Å–º–æ—Ç—Ä –≤—Å–µ—Ö –∑–∞–∫–∞–∑–æ–≤ –∑–∞ —Å–µ–≥–æ–¥–Ω—è:
```sql
SELECT 
  o.*,
  u.first_name,
  u.phone_number
FROM orders o
JOIN users u ON o.user_id = u.id
WHERE o.created_at >= CURRENT_DATE
ORDER BY o.created_at DESC;
```

### –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ –ø–æ –ø–æ–ø—É–ª—è—Ä–Ω—ã–º —Å–æ–∫–∞–º:
```sql
SELECT 
  j.name,
  COUNT(*) as order_count,
  SUM(oi.quantity) as total_quantity
FROM order_items oi
JOIN juices j ON oi.juice_id = j.id
GROUP BY j.name
ORDER BY total_quantity DESC
LIMIT 10;
```

### –í—ã—Ä—É—á–∫–∞ –∑–∞ –ø–æ—Å–ª–µ–¥–Ω–∏–µ 7 –¥–Ω–µ–π:
```sql
SELECT 
  DATE(created_at) as date,
  COUNT(*) as orders_count,
  SUM(total_amount) as revenue
FROM orders
WHERE created_at >= CURRENT_DATE - INTERVAL '7 days'
GROUP BY DATE(created_at)
ORDER BY date DESC;
```

## –ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å

### –ß—Ç–æ –∑–∞—â–∏—â–µ–Ω–æ:
‚úÖ Row Level Security (RLS) –≤–∫–ª—é—á–µ–Ω –Ω–∞ –≤—Å–µ—Ö —Ç–∞–±–ª–∏—Ü–∞—Ö
‚úÖ –ö–∞–∂–¥—ã–π –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –≤–∏–¥–∏—Ç —Ç–æ–ª—å–∫–æ —Å–≤–æ–∏ –¥–∞–Ω–Ω—ã–µ
‚úÖ –ê–¥–º–∏–Ω—ã –∏–º–µ—é—Ç –¥–æ—Å—Ç—É–ø –∫–æ –≤—Å–µ–º –¥–∞–Ω–Ω—ã–º
‚úÖ –ê–Ω–æ–Ω–∏–º–Ω—ã–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–∏ –º–æ–≥—É—Ç —Ç–æ–ª—å–∫–æ —á–∏—Ç–∞—Ç—å –º–µ–Ω—é

### –ß—Ç–æ –Ω—É–∂–Ω–æ –ø–æ–º–Ω–∏—Ç—å:
‚ö†Ô∏è –ù–∏–∫–æ–≥–¥–∞ –Ω–µ –∫–æ–º–º–∏—Ç—å—Ç–µ `.env` —Ñ–∞–π–ª –≤ Git
‚ö†Ô∏è –†–µ–≥—É–ª—è—Ä–Ω–æ –¥–µ–ª–∞–π—Ç–µ –±—ç–∫–∞–ø—ã –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö
‚ö†Ô∏è –ú–æ–Ω–∏—Ç–æ—Ä—å—Ç–µ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ –∫–≤–æ—Ç—ã Supabase

## –ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥

Supabase –ø—Ä–µ–¥–æ—Å—Ç–∞–≤–ª—è–µ—Ç –≤—Å—Ç—Ä–æ–µ–Ω–Ω—ã–π –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥:

1. –ü–µ—Ä–µ–π–¥–∏—Ç–µ –≤ **"Reports"**
2. –ü—Ä–æ—Å–º–∞—Ç—Ä–∏–≤–∞–π—Ç–µ:
   - API Usage (–∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ API)
   - Database Health (–∑–¥–æ—Ä–æ–≤—å–µ –ë–î)
   - Storage Usage (–∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ —Ö—Ä–∞–Ω–∏–ª–∏—â–∞)

–ù–∞ –±–µ—Å–ø–ª–∞—Ç–Ω–æ–º —Ç–∞—Ä–∏—Ñ–µ –ª–∏–º–∏—Ç—ã:
- 500 MB database space
- 1 GB file storage
- 2 GB bandwidth

## –ë—ç–∫–∞–ø—ã

Supabase –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ —Å–æ–∑–¥–∞–µ—Ç –±—ç–∫–∞–ø—ã, –Ω–æ —Ä–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è:

1. –†–µ–≥—É–ª—è—Ä–Ω–æ —ç–∫—Å–ø–æ—Ä—Ç–∏—Ä–æ–≤–∞—Ç—å –¥–∞–Ω–Ω—ã–µ:
   ```sql
   -- –í SQL Editor –º–æ–∂–Ω–æ –≤—ã–≥—Ä—É–∂–∞—Ç—å —Ç–∞–±–ª–∏—Ü—ã –≤ CSV
   ```
2. –ò–ª–∏ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å Supabase CLI:
   ```bash
   supabase db dump -f backup.sql
   ```

## –ì–æ—Ç–æ–≤–æ! üéâ

–í–∞—à–∞ –±–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö Supabase –ø–æ–ª–Ω–æ—Å—Ç—å—é –Ω–∞—Å—Ç—Ä–æ–µ–Ω–∞ –∏ –≥–æ—Ç–æ–≤–∞ –∫ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—é!
